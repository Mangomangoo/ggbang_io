<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>æµ‹è¯•ä½ æ˜¯æˆ˜æ„çš„å“ªä¸ªå…µå›¢</title>
    <style>
        :root {
            --bg-color: #f2f2f7;
            --card-bg: #ffffff;
            --text-main: #1c1c1e;
            --text-sub: #8e8e93;
            --circle-bg: #e5e5ea;
            --accent-color: #d63031;
        }

        body {
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            user-select: none;
            -webkit-user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        h1 {
            font-size: 1.4rem;
            color: var(--text-main);
            margin-bottom: 30px;
            font-weight: 600;
            opacity: 0.8;
        }

        .card {
            background-color: var(--card-bg);
            width: 85%;
            max-width: 380px;
            padding: 40px 25px;
            border-radius: 24px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            text-align: center;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* === é•¿æŒ‰åŒºåŸŸæ ·å¼ === */
        .interaction-area {
            position: relative;
            width: 140px;
            height: 140px;
            background-color: var(--circle-bg);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            margin: 0 auto;
        }

        .interaction-area:active, .interaction-area.pressing {
            transform: scale(0.92);
            background-color: #d1d1d6;
        }

        .interaction-area .icon {
            font-size: 2.5rem;
            margin-bottom: 5px;
        }

        .interaction-area .label {
            font-size: 0.9rem;
            color: var(--text-main);
            font-weight: 600;
            margin-top: 5px;
        }

        .ripple {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            border-radius: 50%;
            border: 4px solid var(--accent-color);
            opacity: 0;
            pointer-events: none;
        }
        
        .interaction-area.pressing .ripple {
            animation: rippleEffect 1s infinite;
        }

        @keyframes rippleEffect {
            0% { transform: scale(1); opacity: 0.6; }
            100% { transform: scale(1.4); opacity: 0; }
        }

        /* === ç»“æœåŒºåŸŸæ ·å¼ === */
        #result-content {
            display: none;
            width: 100%;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ç»“æœå›¾æ ‡/å¤§å­— */
        .result-icon {
            font-size: 4rem;
            margin-bottom: 15px;
            display: block;
        }

        .unit-name {
            font-size: 2rem;
            font-weight: 800;
            color: var(--text-main);
            margin-bottom: 10px;
        }

        .unit-desc {
            font-size: 0.95rem;
            color: #666;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        /* é”å®šçŠ¶æ€æç¤º */
        .saved-hint {
            font-size: 0.8rem;
            color: var(--text-sub);
            background: #f5f5f5;
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
        }

        .hint-text {
            margin-top: 30px;
            color: var(--text-sub);
            font-size: 0.85rem;
        }

        .footer {
            position: fixed;
            bottom: 30px;
            font-size: 0.75rem;
            color: #c7c7cc;
        }
    </style>
</head>
<body>

    <!-- æ ‡é¢˜ -->
    <h1 id="main-title">æµ‹æµ‹ä½ æ˜¯æˆ˜æ„çš„å“ªä¸ªå…µå›¢ ğŸ›¡ï¸</h1>

    <div class="card">
        <!-- 1. åˆå§‹/é•¿æŒ‰åŒºåŸŸ -->
        <div id="start-view">
            <div class="interaction-area" id="trigger-btn">
                <div class="ripple"></div>
                <div class="icon">ğŸ‘‡</div>
                <div class="label">é•¿æŒ‰å¼€å§‹</div>
            </div>
            <p class="hint-text">é•¿æŒ‰å±å¹•ä¸­é—´åŒºåŸŸï¼ŒåŒ¹é…ä½ çš„å…µå›¢çµé­‚</p>
        </div>

        <!-- 2. ç»“æœåŒºåŸŸ (æ˜¾ç¤ºåè‡ªåŠ¨ä¿å­˜) -->
        <div id="result-content">
            <!-- è¿™é‡Œå¯ä»¥ç”¨ emoji æˆ–è€…ä½ ä¹‹å‰çš„æ–‡å­—ç‰¹æ•ˆ -->
            <div class="result-icon">âš”ï¸</div> 
            <div class="unit-name" id="unit-name">???</div>
            <div class="unit-desc" id="unit-desc"></div>
            
            <!-- åªæœ‰ç»“æœå‡ºæ¥åæ‰æ˜¾ç¤ºè¿™ä¸ª -->
            <div class="saved-hint">æç¤ºï¼šç»“æœå·²ä¿å­˜ï¼Œåˆ·æ–°ä¸ä¼šæ”¹å˜å“¦ï¼</div>
        </div>
    </div>

    <div class="footer">ä½œè€…ï¼šå°†å†›</div>

    <script>
        // === æˆ˜æ„å…µå›¢æ•°æ® ===
        const units = [
            { name: "é“æµ®å± ", desc: "ä½ æ˜¯æˆ˜åœºä¸Šçš„æ¨åœŸæœºã€‚è™½ç„¶è¡ŒåŠ¨è¿Ÿç¼“ï¼Œä½†è¿™ä¹Ÿæ„å‘³ç€ä½ ç¨³é‡å¯é ã€‚å½“ä½ å†³å®šå‡ºæ‰‹æ—¶ï¼Œæ²¡æœ‰ä»€ä¹ˆèƒ½é˜»æŒ¡ä½ ã€‚" },
            { name: "é™Œåˆ€", desc: "ä½ æ˜¯å›¢é˜Ÿçš„å®ˆæŠ¤ç¥ã€‚é¢å¯¹å›°éš¾ï¼ˆæˆ–éª‘å…µï¼‰ï¼Œä½ ä»ä¸åé€€ã€‚åŸåˆ™æ€§æå¼ºï¼Œåªæœ‰åœ¨å®ˆæŠ¤é‡è¦ä¹‹ç‰©æ—¶æ‰ä¼šå±•éœ²é”‹èŠ’ã€‚" },
            { name: "ç¥æœºäº”åƒè¥", desc: "ä½ å–œæ¬¢æŒæ§å…¨å±€ã€‚æ€ç»´åƒéœ‡å¤©é›·ä¸€æ ·å…·æœ‰çˆ†å‘åŠ›ï¼Œèƒ½åœ¨åˆ«äººæ„æƒ³ä¸åˆ°çš„åœ°æ–¹ç»™äºˆé‡å‡»ã€‚" },
            { name: "å…³å®é“éª‘", desc: "å…¨èƒ½ä¸”éœ¸é“ã€‚æ—¢æœ‰è¿œç¨‹çš„è§†é‡ï¼Œåˆæœ‰è¿‘æˆ˜çš„çˆ†å‘ã€‚åœ¨ç”Ÿæ´»å’Œå·¥ä½œä¸­éƒ½èƒ½ç‹¬å½“ä¸€é¢ã€‚" },
            { name: "æˆšå®¶å†›", desc: "æå…·æ€§ä»·æ¯”ä¸”å¿ è¯šã€‚å¹³æ—¶ä¸æ˜¾å±±éœ²æ°´ï¼Œä½†åªè¦ç»™ä½ æœºä¼šï¼Œä½ èƒ½çˆ†å‘å‡ºè¶…è¶Šé˜¶å±‚çš„æƒŠäººèƒ½é‡ã€‚" },
            { name: "ä¸åˆ—é¢ é•¿å¼“", desc: "æ€§æ ¼é«˜å†·ï¼Œå–œæ¬¢ä¿æŒè·ç¦»ã€‚ä½ æ“…é•¿æ´å¯Ÿä¸€åˆ‡ï¼Œè™½ç„¶èº«æ¿è„†ï¼Œä½†åªè¦æ‰¾å¥½ä½ç½®ï¼Œä½ å°±æ˜¯MVPã€‚" },
            { name: "å°½å¿ é•¿æªè¥", desc: "æœ€å¥½çš„è¾…åŠ©ã€‚æ€§æ ¼æ¸©å’Œä½†åšå®šï¼Œåªè¦æ˜¯ä¸ºäº†å¤§å±€ï¼Œä½ æ„¿æ„ç‰ºç‰²è‡ªå·±æ¨å¹³ä¸€åˆ‡éšœç¢ã€‚" },
            { name: "ç“¦å…°å‰å«é˜Ÿ", desc: "ç‹‚æˆ˜å£«ã€‚å¹³æ—¶çœ‹ç€éšå’Œï¼Œä¸€æ—¦æƒ…ç»ªï¼ˆæ€’æ°”ï¼‰ç§¯æ”’åˆ°ä¸€å®šç¨‹åº¦ï¼Œæå‡ºæ–§å¤´çš„ç¬é—´ï¼Œæ²¡äººæ•¢æƒ¹ä½ ã€‚" }
        ];

        const triggerBtn = document.getElementById('trigger-btn');
        const startView = document.getElementById('start-view');
        const resultContent = document.getElementById('result-content');
        const unitNameEl = document.getElementById('unit-name');
        const unitDescEl = document.getElementById('unit-desc');
        const mainTitle = document.getElementById('main-title');

        // å­˜å‚¨çš„ Key åç§°
        const STORAGE_KEY = 'zhanyi_test_result_v1';

        let timer = null;
        let isPressing = false;

        // === æ ¸å¿ƒä¿®æ”¹ï¼šé¡µé¢åŠ è½½æ—¶æ£€æŸ¥æ˜¯å¦æœ‰ç»“æœ ===
        window.onload = function() {
            const savedData = localStorage.getItem(STORAGE_KEY);
            if (savedData) {
                // å¦‚æœæœ‰ä¿å­˜çš„ç»“æœï¼Œç›´æ¥æ˜¾ç¤ºç»“æœé¡µ
                const result = JSON.parse(savedData);
                showFinalResult(result, true);
            }
        };

        // æ˜¾ç¤ºç»“æœçš„å‡½æ•°
        function showFinalResult(unit, isFromStorage) {
            startView.style.display = 'none';
            resultContent.style.display = 'block';
            
            unitNameEl.innerText = unit.name;
            unitDescEl.innerText = unit.desc;

            // å¦‚æœä¸æ˜¯æ¥è‡ªç¼“å­˜ï¼ˆå³ç¬¬ä¸€æ¬¡æµ‹ï¼‰ï¼Œåˆ™ä¿å­˜ç»“æœ
            if (!isFromStorage) {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(unit));
            }
        }

        // å¼€å§‹äº¤äº’
        const startAction = (e) => {
            if(e.cancelable) e.preventDefault();
            isPressing = true;
            
            triggerBtn.classList.add('pressing');
            triggerBtn.querySelector('.label').innerText = "æ„Ÿåº”ä¸­...";

            // é•¿æŒ‰ 1500ms (1.5ç§’) åå‡ºç»“æœ
            timer = setTimeout(() => {
                if (isPressing) {
                    // éšæœºæŠ½å–ä¸€ä¸ª
                    const randomUnit = units[Math.floor(Math.random() * units.length)];
                    showFinalResult(randomUnit, false);
                    isPressing = false;
                }
            }, 1500);
        };

        const endAction = () => {
             if (!isPressing) return;
             isPressing = false;
             triggerBtn.classList.remove('pressing');
             clearTimeout(timer);
             
             // å¦‚æœæ²¡æŒ‰å¤Ÿæ—¶é—´æ¾å¼€äº†ï¼Œè¿˜åŸ
             if (startView.style.display !== 'none') {
                triggerBtn.querySelector('.label').innerText = "é•¿æŒ‰å¼€å§‹";
             }
        };

        // ç»‘å®šäº‹ä»¶
        triggerBtn.addEventListener('mousedown', startAction);
        triggerBtn.addEventListener('touchstart', startAction, {passive: false});

        document.addEventListener('mouseup', endAction);
        document.addEventListener('touchend', endAction);
        
    </script>
</body>
</html>
